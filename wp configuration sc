apt update
apt install -y apache2
systemctl enable apache2
systemctl start apache2
apt install -y mariadb-server mariadb-client
systemctl enable --now mariadb
mysql_secure_installation
apt install -y php php-common php-mysql php-xml php-xmlrpc php-curl php-gd php-imagick php-cli php-dev php-imap php-mbstring php-soap php-zip php-intl
apt install -y wget unzip
wget https://wordpress.org/latest.zip
unzip latest.zip
cd wordpress
cp -r * /var/www/html
cd /var/www/html
rm -rf index.html
apt install -y php-mysql php-cgi php-cli php-gd -y
systemctl restart apache2
chown -R www-data:www-data /var/www/
read -p "Enter the name of the new database: " NEW_DB
read -p "Enter the name of the new user: " NEW_USER
read -sp "Enter the password for the new user: " NEW_USER_PASSWORD
echo
mysql -u root -p <<EOF
CREATE DATABASE $NEW_DB;
CREATE USER '$NEW_USER'@'%' IDENTIFIED BY '$NEW_USER_PASSWORD';
GRANT ALL PRIVILEGES ON $NEW_DB.* TO '$NEW_USER'@'%';
FLUSH PRIVILEGES;
EOF
systemctl restart apache2
